// Magus Class Features //

new entry "Test_Spells"
type "PassiveData"
data "DisplayName" "Test Spells"
data "Description" "FOR TESTING."
data "Boosts" "UnlockSpell(Shout_Test)"

new entry "Arcane_Enhancement"
type "PassiveData"
data "DisplayName" "178b3b303a3eda8070c05531b0ce8e3a63768;1"
data "Description" "861d5f66bc012679573520ca51f5c5f632352;1"
data "Icon" "Passive_Magus_ArcaneEnhancement"
data "Boosts" "UnlockSpell(Shout_ArcaneEnhancement_NoEnduringBlade)"

// Spell Slots //

new entry "Magus_UnlockPlaceholderSpellSlots_1"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(PlaceholderSpellSlot,1,1);ActionResourceBlock(PlaceholderSpellSlot,1);"

new entry "Magus_UnlockPlaceholderSpellSlots_2"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(PlaceholderSpellSlot,1,2);ActionResourceBlock(PlaceholderSpellSlot,2);"

new entry "Magus_UnlockPlaceholderSpellSlots_3"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(PlaceholderSpellSlot,1,3);ActionResourceBlock(PlaceholderSpellSlot,3);"

new entry "Magus_UnlockPlaceholderSpellSlots_4"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(PlaceholderSpellSlot,1,4);ActionResourceBlock(PlaceholderSpellSlot,4);"

new entry "Magus_UnlockPlaceholderSpellSlots_5"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(PlaceholderSpellSlot,1,5);ActionResourceBlock(PlaceholderSpellSlot,5);"

new entry "Magus_UnlockPlaceholderSpellSlots_6"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(PlaceholderSpellSlot,1,6);ActionResourceBlock(PlaceholderSpellSlot,6);"

new entry "Magus_UnlockPlaceholderSpellSlots_7"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(PlaceholderSpellSlot,1,7);ActionResourceBlock(PlaceholderSpellSlot,7);"

new entry "Magus_UnlockPlaceholderSpellSlots_8"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(PlaceholderSpellSlot,1,8);ActionResourceBlock(PlaceholderSpellSlot,8);"

new entry "Magus_UnlockPlaceholderSpellSlots_9"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(PlaceholderSpellSlot,1,9);ActionResourceBlock(PlaceholderSpellSlot,9);"

new entry "Magus_Spellslots_Level1-1"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,1,1);"

new entry "Magus_Spellslots_Level1-2"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,2,1);"

new entry "Magus_Spellslots_Level2-1"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,1,2);"

new entry "Magus_Spellslots_Level2-2"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,2,2);"

new entry "Magus_Spellslots_Level3"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,2,3);"

new entry "Magus_Spellslots_Level4"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,2,4);"

new entry "Magus_Spellslots_Level5"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,2,5);"

new entry "Magus_Spellslots_Level6"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,2,6);"

new entry "Magus_Spellslots_Level7"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,2,7);"

new entry "Magus_Spellslots_Level8"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,2,8);"

new entry "Magus_Spellslots_Level9"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "ActionResource(SpellSlot,2,9);"

// Spell Strikes and Spell Combats //

new entry "Spell_Strike_ReachWeaponCheck"
type "PassiveData"
data "DisplayName" ""
data "Description" ""
data "Icon" ""
data "Properties" "IsHidden"
data "BoostContext" "OnEquip;OnTurn"
data "BoostConditions" "IsWeaponOfProficiencyGroup('Glaives', GetActiveWeapon()) or IsWeaponOfProficiencyGroup('Pikes', GetActiveWeapon()) or IsWeaponOfProficiencyGroup('Halberds', GetActiveWeapon())"
data "Boosts" "UnlockSpellVariant(DistantTouchSpellCheck(),ModifyTargetRadius(Override,2.5))"

new entry "Spell_Strike"
type "PassiveData"
data "DisplayName" "03ef16769df101f46ad35fe8bb61a490a398d;1"
data "Description" "0e394f6b7015c83d54e4d6dc37f2a754841f2;1"
data "Properties" "IsToggled;Highlighted;Temporary"
data "ToggleOffFunctors" "RemoveStatus(SPELL_STRIKING);RemoveStatus(SPELL_STRIKING_REACH)"
data "ToggleOnFunctors" "ApplyStatus(Paragon_SPELL_STRIKING,100,-1);ApplyStatus(Paragon_SPELL_STRIKING_REACH,100,-1)"
data "Icon" "Passive_Magus_SpellStrike"
data "ToggleOnEffect" "VFX_Spells_Cast_Sorcerer_Metamagic_Distant_HeadFX_01:Dummy_HeadFX"

new entry "Spell_Strike_Ranged_Unlock"
type "PassiveData"
data "DisplayName" "50ce430ccb71d70111e029af5d1be3b678058;1"
data "Description" "28b897b7a5ae5f15042e972fe272a44d38e84;1"
data "Properties" "IsToggled;Highlighted;Temporary"
data "ToggleOffFunctors" "RemoveStatus(SPELL_STRIKING_RANGED)"
data "ToggleOnFunctors" "ApplyStatus(Paragon_SPELL_STRIKING_RANGED,100,-1)"
data "Icon" "Passive_Magus_RangedSpellStrike"
data "ToggleOnEffect" "VFX_Spells_Cast_Sorcerer_Metamagic_Distant_HeadFX_01:Dummy_HeadFX"

new entry "Spell_Strike_TTCureWounds"
type "PassiveData"
data "Properties" "IsHidden"
data "Conditions" "SpellId('Target_CureWounds_TwistingTree')"
data "StatsFunctors" "If(HasPassive('Arcana_WhirlwindSpell') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_Spell_Swipe')):ApplyStatus(SPELL_SWIPE);If(HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_FORCE);If(HasPassive('Arcana_DevastatingSpellStrike')):ApplyStatus(DEVASTATING_SPELL_STRIKE_FORCE);If(HasPassive('Arcana_DistractingSpellStrike')):ApplyStatus(DISTRACTING_SPELL_STRIKE);If(HasPassive('Arcana_WhirlwindSpell')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_CRITICAL,100,1);If(not HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_EXPANSIVE,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Spell_Strike_Force"
type "PassiveData"
data "Properties" "IsHidden"
data "Conditions" "(IsSpellSchool(SpellSchool.Abjuration) or IsSpellSchool(SpellSchool.Evocation)) and HasUseCosts('ActionPoint') and IsSpell() and IsAttackType(AttackType.MeleeWeaponAttack) and not IsMiss() and HasSpellFlag(SpellFlags.Spell) and not SpellId('Target_BoomingBlade') and not SpellId('Target_GreenFlameBlade')"
data "StatsFunctors" "If(HasPassive('Arcana_WhirlwindSpell') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_Spell_Swipe')):ApplyStatus(SPELL_SWIPE);If(HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_FORCE);If(HasPassive('Arcana_DevastatingSpellStrike')):ApplyStatus(DEVASTATING_SPELL_STRIKE_FORCE);If(HasPassive('Arcana_DistractingSpellStrike')):ApplyStatus(DISTRACTING_SPELL_STRIKE);If(HasPassive('Arcana_WhirlwindSpell')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_CRITICAL,100,1);If(not HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Spell_Strike_Weapon"
type "PassiveData"
data "Properties" "IsHidden"
data "Conditions" "(IsSpellSchool(SpellSchool.Conjuration) or IsSpellSchool(SpellSchool.Transmutation)) and HasUseCosts('ActionPoint') and IsSpell() and IsAttackType(AttackType.MeleeWeaponAttack) and not IsMiss() and HasSpellFlag(SpellFlags.Spell) and not SpellId('Target_BoomingBlade') and not SpellId('Target_GreenFlameBlade')"
data "StatsFunctors" "If(HasPassive('Arcana_WhirlwindSpell') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_Spell_Swipe')):ApplyStatus(SPELL_SWIPE);If(HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_WEAPON);If(HasPassive('Arcana_DevastatingSpellStrike')):ApplyStatus(DEVASTATING_SPELL_STRIKE_WEAPON);If(HasPassive('Arcana_DistractingSpellStrike')):ApplyStatus(DISTRACTING_SPELL_STRIKE);If(HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_CRITICAL,100,1);If(not HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Spell_Strike_Psychic"
type "PassiveData"
data "Properties" "IsHidden"
data "Conditions" "(IsSpellSchool(SpellSchool.Illusion) or IsSpellSchool(SpellSchool.Enchantment) or IsSpellSchool(SpellSchool.Divination)) and HasUseCosts('ActionPoint') and IsSpell() and IsAttackType(AttackType.MeleeWeaponAttack) and not IsMiss() and HasSpellFlag(SpellFlags.Spell) and not SpellId('Target_BoomingBlade') and not SpellId('Target_GreenFlameBlade')"
data "StatsFunctors" "If(HasPassive('Arcana_WhirlwindSpell') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_Spell_Swipe')):ApplyStatus(SPELL_SWIPE);If(HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_WEAPON);If(HasPassive('Arcana_DevastatingSpellStrike')):ApplyStatus(DEVASTATING_SPELL_STRIKE_PSYCHIC);If(HasPassive('Arcana_DistractingSpellStrike')):ApplyStatus(DISTRACTING_SPELL_STRIKE);If(HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_CRITICAL,100,1);If(not HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Spell_Strike_Necrotic"
type "PassiveData"
data "Properties" "IsHidden"
data "Conditions" "(IsSpellSchool(SpellSchool.Necromancy)) and HasUseCosts('ActionPoint') and IsSpell() and IsAttackType(AttackType.MeleeWeaponAttack) and not IsMiss() and HasSpellFlag(SpellFlags.Spell) and not SpellId('Target_BoomingBlade') and not SpellId('Target_GreenFlameBlade')"
data "StatsFunctors" "If(HasPassive('Arcana_WhirlwindSpell') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_Spell_Swipe')):ApplyStatus(SPELL_SWIPE);If(HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_NECROTIC);If(HasPassive('Arcana_DevastatingSpellStrike')):ApplyStatus(DEVASTATING_SPELL_STRIKE_NECROTIC);If(HasPassive('Arcana_DistractingSpellStrike')):ApplyStatus(DISTRACTING_SPELL_STRIKE);If(HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_CRITICAL,100,1);If(not HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Spell_Combat_OnMiss"
type "PassiveData"
data "Properties" "IsHidden"
data "Conditions" "HasUseCosts('ActionPoint') and IsSpell() and (IsAttackType(AttackType.MeleeWeaponAttack) or IsAttackType(AttackType.RangedWeaponAttack)) and IsMiss() and HasSpellFlag(SpellFlags.Spell) and not SpellId('Target_BoomingBlade') and not SpellId('Target_GreenFlameBlade')"
data "StatsFunctors" "IF(HasPassive('Spell_Combat')):ApplyStatus(SELF,EXTRA_ATTACK_SC,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Spell_Combat"
type "PassiveData"
data "DisplayName" "04ba6b5d2daa75ce5330e21e337ff4f2ba0df;1"
data "Description" "8b2ec4c78a4a0a0e00d9b963df37f1d1789b5;1"
data "Icon" "Passive_Magus_SpellStrike"
data "Properties" "Highlighted"

new entry "Expansive_Spell_Strike_Force"
type "PassiveData"
data "DisplayName" "Expansive Spell Strike"
data "Description" "You know how to channel any spell into a punch or sword thrust to deliver a combined attack. THIS DOES NOT WORK WITHOUT ARCANA EXPANSIVE SPELL STRIKE!"
data "Properties" "IsHidden"
data "Conditions" "(IsSpellSchool(SpellSchool.Abjuration) or IsSpellSchool(SpellSchool.Evocation)) and HasUseCosts('ActionPoint') and not HasStringInSpellRoll('WeaponAttack') and IsSpell() and HasSpellFlag(SpellFlags.Spell) and not IsAttackType(AttackType.MeleeWeaponAttack)"
data "StatsFunctors" "If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_WhirlwindSpell') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(SPELL_SWIPE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_FORCE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_DevastatingSpellStrike')):ApplyStatus(DEVASTATING_SPELL_STRIKE_FORCE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_DistractingSpellStrike')):ApplyStatus(DISTRACTING_SPELL_STRIKE);If(HasPassive('Arcana_ExpansiveSpellStrike')):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_EXPANSIVE,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Expansive_Spell_Strike_Weapon"
type "PassiveData"
data "DisplayName" "Expansive Spell Strike"
data "Description" "You know how to channel any spell into a punch or sword thrust to deliver a combined attack. THIS DOES NOT WORK WITHOUT ARCANA EXPANSIVE SPELL STRIKE!"
data "Properties" "IsHidden"
data "Conditions" "(IsSpellSchool(SpellSchool.Conjuration) or IsSpellSchool(SpellSchool.Transmutation)) and HasUseCosts('ActionPoint') and not HasStringInSpellRoll('WeaponAttack') and IsSpell() and HasSpellFlag(SpellFlags.Spell) and not IsAttackType(AttackType.MeleeWeaponAttack)"
data "StatsFunctors" "If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_WhirlwindSpell') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(SPELL_SWIPE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_WEAPON);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_DevastatingSpellStrike')):ApplyStatus(DEVASTATING_SPELL_STRIKE_WEAPON);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_DistractingSpellStrike')):ApplyStatus(DISTRACTING_SPELL_STRIKE);If(HasPassive('Arcana_ExpansiveSpellStrike')):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_EXPANSIVE,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Expansive_Spell_Strike_Psychic"
type "PassiveData"
data "DisplayName" "Expansive Spell Strike"
data "Description" "You know how to channel any spell into a punch or sword thrust to deliver a combined attack. THIS DOES NOT WORK WITHOUT ARCANA EXPANSIVE SPELL STRIKE!"
data "Properties" "IsHidden"
data "Conditions" "(IsSpellSchool(SpellSchool.Illusion) or IsSpellSchool(SpellSchool.Enchantment) or IsSpellSchool(SpellSchool.Divination)) and HasUseCosts('ActionPoint') and not HasStringInSpellRoll('WeaponAttack') and IsSpell() and HasSpellFlag(SpellFlags.Spell) and not IsAttackType(AttackType.MeleeWeaponAttack)"
data "StatsFunctors" "If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_WhirlwindSpell') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(SPELL_SWIPE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_PSYCHIC);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_DevastatingSpellStrike')):ApplyStatus(DEVASTATING_SPELL_STRIKE_PSYCHIC);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_DistractingSpellStrike')):ApplyStatus(DISTRACTING_SPELL_STRIKE);If(HasPassive('Arcana_ExpansiveSpellStrike')):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_EXPANSIVE,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Expansive_Spell_Strike_Necrotic"
type "PassiveData"
data "DisplayName" "Expansive Spell Strike"
data "Description" "You know how to channel any spell into a punch or sword thrust to deliver a combined attack. THIS DOES NOT WORK WITHOUT ARCANA EXPANSIVE SPELL STRIKE!"
data "Properties" "IsHidden"
data "Conditions" "(IsSpellSchool(SpellSchool.Necromancy)) and HasUseCosts('ActionPoint') and not HasStringInSpellRoll('WeaponAttack') and IsSpell() and HasSpellFlag(SpellFlags.Spell) and not IsAttackType(AttackType.MeleeWeaponAttack)"
data "StatsFunctors" "If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_WhirlwindSpell') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(WHIRLWIND_SPELL);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_Spell_Swipe')):ApplyStatus(SPELL_SWIPE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_NECROTIC);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_DevastatingSpellStrike')):ApplyStatus(DEVASTATING_SPELL_STRIKE_NECROTIC);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_DistractingSpellStrike')):ApplyStatus(DISTRACTING_SPELL_STRIKE);If(HasPassive('Arcana_ExpansiveSpellStrike')):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_EXPANSIVE,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Spell_Strike_Ranged"
type "PassiveData"
data "Icon" "Passive_Magus_RangedSpellStrike"
data "Conditions" "HasUseCosts('ActionPoint') and IsSpell() and IsAttackType(AttackType.RangedWeaponAttack) and IsHit() and HasSpellFlag(SpellFlags.Spell)"
data "StatsFunctors" "If(HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_MeteoricShot')):ApplyStatus(METEORIC_SHOT);If(HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_FORCE,100,1);If(HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_RANGED_CRITICAL,100,1);If(not HasDamageEffectFlag(DamageFlags.Critical)):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_RANGED,100,1)"
data "StatsFunctorContext" "OnCast"
data "Properties" "IsHidden"

new entry "Expansive_Spell_Strike_Ranged"
type "PassiveData"
data "Conditions" "HasUseCosts('ActionPoint') and not HasStringInSpellRoll('WeaponAttack') and IsSpell() and HasSpellFlag(SpellFlags.Spell) and not IsAttackType(AttackType.RangedWeaponAttack)"
data "StatsFunctors" "If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_BaneBlade')):ApplyStatus(BANE_BLADE);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_MeteoricShot')):ApplyStatus(METEORIC_SHOT);If(HasPassive('Arcana_ExpansiveSpellStrike') and HasPassive('Arcana_CascadingRay')):ApplyStatus(CASCADING_RAY_FORCE,100,1);If(HasPassive('Arcana_ExpansiveSpellStrike')):ApplyStatus(EXTRA_ATTACK_SPELL_STRIKE_RANGED_EXPANSIVE,100,1)"
data "StatsFunctorContext" "OnCast"
data "Properties" "Highlighted"
data "Icon" "Passive_Magus_RangedSpellStrike"

// Arcane Enhancement //

new entry "Arcane_Enhancement_WeaponDamage1"
type "PassiveData"
data "DisplayName" "4179ca579e520782d8d5ad2647a1c2e1f2b64;1"
data "Description" "16a9d22cfe2bc6ce3439ec98cee8d79be4a85;1"
data "DescriptionParams" "1"
data "Boosts" "CharacterWeaponDamage(1);RollBonus(Attack,1);WeaponProperty(Magical)"
data "StatsFunctorContext" "OnAttack"

new entry "Arcane_Enhancement_WeaponDamage2"
type "PassiveData"
data "DisplayName" "4179ca579e520782d8d5ad2647a1c2e1f2b64;1"
data "Description" "16a9d22cfe2bc6ce3439ec98cee8d79be4a85;1"
data "DescriptionParams" "2"
data "Boosts" "CharacterWeaponDamage(2);RollBonus(Attack,2);WeaponProperty(Magical)"
data "StatsFunctorContext" "OnAttack"

new entry "Arcane_Enhancement_WeaponDamage3"
type "PassiveData"
data "DisplayName" "4179ca579e520782d8d5ad2647a1c2e1f2b64;1"
data "Description" "16a9d22cfe2bc6ce3439ec98cee8d79be4a85;1"
data "DescriptionParams" "3"
data "Boosts" "CharacterWeaponDamage(3);RollBonus(Attack,3);WeaponProperty(Magical)"
data "StatsFunctorContext" "OnAttack"

// Arcane Cascade //

new entry "Arcane_Cascade"
type "PassiveData"
data "DisplayName" "18af9bd9f1014128c819a0de53eef1860d978;1"
data "Description" "22c4bb51de274b510dce2462431cab0f534ee;1"
data "Icon" "Passive_Magus_ArcaneCascade_Force"
data "Properties" "Highlighted"

new entry "Arcane_Cascade_Abjuration"
type "PassiveData"
data "Icon" "unknown"
data "Conditions" "IsSpell() and not IsCantrip() and IsSpellSchool(SpellSchool.Abjuration)"
data "StatsFunctors" "IF(HasPassive('TwistingTree_Arcane_Cascade')):ApplyStatus(SELF,TWISTINGTREE_ARCANE_CASCADE,100,10);If(HasPassive('Arcana_ResoundingCascade')):ApplyStatus(RESOUNDING_CASCADE_FORCE,100,10);If(HasPassive('Arcana_ArcaneShroud')):ApplyStatus(ARCANE_SHROUD_ABJ,100,10);If(HasPassive('LaughingShadow_Arcane_Cascade')):ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_FORCE,100,10);If(HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE_SS,100,10);If(HasPassive('InexorableIron_Arcane_Cascade') and not HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE,100,10);If(HasPassive('SparklingTarge_Arcane_Cascade') and HasShieldEquipped()):ApplyStatus(SELF,SPARKLINGTARGE_ARCANE_CASCADE,100,10);ApplyStatus(SELF,ARCANE_CASCADE_FORCE,100,10)"
data "StatsFunctorContext" "OnCast"
data "Properties" "IsHidden"

new entry "Arcane_Cascade_Evocation"
type "PassiveData"
data "Icon" "unknown"
data "Conditions" "not IsCantrip() and IsSpellSchool(SpellSchool.Evocation)"
data "StatsFunctors" "IF(HasPassive('TwistingTree_Arcane_Cascade')):ApplyStatus(SELF,TWISTINGTREE_ARCANE_CASCADE,100,10);If(HasPassive('Arcana_ResoundingCascade')):ApplyStatus(RESOUNDING_CASCADE_FORCE,100,10);If(HasPassive('Arcana_ArcaneShroud')):ApplyStatus(ARCANE_SHROUD_EVO,100,10);If(HasPassive('LaughingShadow_Arcane_Cascade')):ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_FORCE,100,10);If(HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE_SS,100,10);If(HasPassive('InexorableIron_Arcane_Cascade') and not HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE,100,10);If(HasPassive('SparklingTarge_Arcane_Cascade') and HasShieldEquipped()):ApplyStatus(SELF,SPARKLINGTARGE_ARCANE_CASCADE,100,10);ApplyStatus(SELF,ARCANE_CASCADE_FORCE,100,10)"
data "StatsFunctorContext" "OnCast"
data "Properties" "IsHidden"

new entry "Arcane_Cascade_Conjuration"
type "PassiveData"
data "Icon" "unknown"
data "Conditions" "not IsCantrip() and IsSpellSchool(SpellSchool.Conjuration)"
data "StatsFunctors" "IF(HasPassive('TwistingTree_Arcane_Cascade')):ApplyStatus(SELF,TWISTINGTREE_ARCANE_CASCADE,100,10);If(HasPassive('Arcana_ResoundingCascade')):ApplyStatus(RESOUNDING_CASCADE_WEAPON,100,10);If(HasPassive('Arcana_ArcaneShroud')):ApplyStatus(ARCANE_SHROUD_CON,100,10);If(HasPassive('LaughingShadow_Arcane_Cascade')):ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_WEAPON,100,10);If(HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE_SS,100,10);If(HasPassive('InexorableIron_Arcane_Cascade') and not HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE,100,10);If(HasPassive('SparklingTarge_Arcane_Cascade') and HasShieldEquipped()):ApplyStatus(SELF,SPARKLINGTARGE_ARCANE_CASCADE,100,10);ApplyStatus(SELF,ARCANE_CASCADE_WEAPON,100,10)"
data "StatsFunctorContext" "OnCast"
data "Properties" "IsHidden"

new entry "Arcane_Cascade_Transmutation"
type "PassiveData"
data "Conditions" "not IsCantrip() and IsSpellSchool(SpellSchool.Transmutation)"
data "StatsFunctors" "IF(HasPassive('TwistingTree_Arcane_Cascade')):ApplyStatus(SELF,TWISTINGTREE_ARCANE_CASCADE,100,10);If(HasPassive('Arcana_ResoundingCascade')):ApplyStatus(RESOUNDING_CASCADE_WEAPON,100,10);If(HasPassive('Arcana_ArcaneShroud')):ApplyStatus(ARCANE_SHROUD_TRN,100,10);If(HasPassive('LaughingShadow_Arcane_Cascade')):ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_WEAPON,100,10);If(HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE_SS,100,10);If(HasPassive('InexorableIron_Arcane_Cascade') and not HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE,100,10);If(HasPassive('SparklingTarge_Arcane_Cascade') and HasShieldEquipped()):ApplyStatus(SELF,SPARKLINGTARGE_ARCANE_CASCADE,100,10);ApplyStatus(SELF,ARCANE_CASCADE_WEAPON,100,10)"
data "StatsFunctorContext" "OnCast"
data "Properties" "IsHidden"

new entry "Arcane_Cascade_Divination"
type "PassiveData"
data "Icon" "unknown"
data "Conditions" "not IsCantrip() and IsSpellSchool(SpellSchool.Divination)"
data "StatsFunctors" "IF(HasPassive('TwistingTree_Arcane_Cascade')):ApplyStatus(SELF,TWISTINGTREE_ARCANE_CASCADE,100,10);If(HasPassive('Arcana_ResoundingCascade')):ApplyStatus(RESOUNDING_CASCADE_PSYCHIC,100,10);If(HasPassive('Arcana_ArcaneShroud')):ApplyStatus(ARCANE_SHROUD_DIV,100,10);If(HasPassive('LaughingShadow_Arcane_Cascade')):ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_PSYCHIC,100,10);If(HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE_SS,100,10);If(HasPassive('InexorableIron_Arcane_Cascade') and not HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE,100,10);If(HasPassive('SparklingTarge_Arcane_Cascade') and HasShieldEquipped()):ApplyStatus(SELF,SPARKLINGTARGE_ARCANE_CASCADE,100,10);ApplyStatus(SELF,ARCANE_CASCADE_PSYCHIC,100,10)"
data "StatsFunctorContext" "OnCast"
data "Properties" "IsHidden"

new entry "Arcane_Cascade_Enchantment"
type "PassiveData"
data "Icon" "unknown"
data "Conditions" "not IsCantrip() and IsSpellSchool(SpellSchool.Enchantment)"
data "StatsFunctors" "IF(HasPassive('TwistingTree_Arcane_Cascade')):ApplyStatus(SELF,TWISTINGTREE_ARCANE_CASCADE,100,10);If(HasPassive('Arcana_ResoundingCascade')):ApplyStatus(RESOUNDING_CASCADE_PSYCHIC,100,10);If(HasPassive('Arcana_ArcaneShroud')):ApplyStatus(ARCANE_SHROUD_ECH,100,10);If(HasPassive('LaughingShadow_Arcane_Cascade')):ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_PSYCHIC,100,10);If(HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE_SS,100,10);If(HasPassive('InexorableIron_Arcane_Cascade') and not HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE,100,10);If(HasPassive('SparklingTarge_Arcane_Cascade') and HasShieldEquipped()):ApplyStatus(SELF,SPARKLINGTARGE_ARCANE_CASCADE,100,10);ApplyStatus(SELF,ARCANE_CASCADE_PSYCHIC,100,10)"
data "StatsFunctorContext" "OnCast"
data "Properties" "IsHidden"

new entry "Arcane_Cascade_Illusion"
type "PassiveData"
data "Icon" "unknown"
data "Conditions" "not IsCantrip() and IsSpellSchool(SpellSchool.Illusion)"
data "StatsFunctors" "IF(HasPassive('TwistingTree_Arcane_Cascade')):ApplyStatus(SELF,TWISTINGTREE_ARCANE_CASCADE,100,10);If(HasPassive('Arcana_ResoundingCascade')):ApplyStatus(RESOUNDING_CASCADE_PSYCHIC,100,10);If(HasPassive('Arcana_ArcaneShroud')):ApplyStatus(ARCANE_SHROUD_ILL,100,10);If(HasPassive('LaughingShadow_Arcane_Cascade')):ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_PSYCHIC,100,10);If(HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE_SS,100,10);If(HasPassive('InexorableIron_Arcane_Cascade') and not HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE,100,10);If(HasPassive('SparklingTarge_Arcane_Cascade') and HasShieldEquipped()):ApplyStatus(SELF,SPARKLINGTARGE_ARCANE_CASCADE,100,10);ApplyStatus(SELF,ARCANE_CASCADE_PSYCHIC,100,10)"
data "StatsFunctorContext" "OnCast"
data "Properties" "IsHidden"

new entry "Arcane_Cascade_Necromancy"
type "PassiveData"
data "Icon" "unknown"
data "Conditions" "not IsCantrip() and IsSpellSchool(SpellSchool.Necromancy)"
data "StatsFunctors" "IF(HasPassive('TwistingTree_Arcane_Cascade')):ApplyStatus(SELF,TWISTINGTREE_ARCANE_CASCADE,100,10);If(HasPassive('Arcana_ResoundingCascade')):ApplyStatus(RESOUNDING_CASCADE_NECROTIC,100,10);If(HasPassive('Arcana_ArcaneShroud')):ApplyStatus(ARCANE_SHROUD_NEC,100,10);If(HasPassive('LaughingShadow_Arcane_Cascade')):ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_NECROTIC,100,10);If(HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE_SS,100,10);If(HasPassive('InexorableIron_Arcane_Cascade') and not HasPassive('Arcana_SustainingSteel')):ApplyStatus(SELF,INEXORABLEIRON_ARCANE_CASCADE,100,10);If(HasPassive('SparklingTarge_Arcane_Cascade') and HasShieldEquipped()):ApplyStatus(SELF,SPARKLINGTARGE_ARCANE_CASCADE,100,10);ApplyStatus(SELF,ARCANE_CASCADE_NECROTIC,100,10)"
data "StatsFunctorContext" "OnCast"
data "Properties" "IsHidden"

// Other Class Features//

new entry "Arcane_Restoration"
type "PassiveData"
data "DisplayName" "f0a7671f2fc247ebf47ace0014f88a7a5adc1;1"
data "Description" "f1c9a736e846aaabd32dfee05ee9a8ca5c011;1"
data "Icon" "Passive_Magus_ArcaneRestoration"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Shout_Arcane_Restoration)"
data "Properties" "Highlighted"

new entry "Extended_Spell_Strike"
type "PassiveData"
data "DisplayName" "15df068671cef711166044b0836da59fbda02;1"
data "Description" "2d43cc9dcbe03f0eb641f78433f772010ae84;1"
data "ExtraDescription" "ha90cbcf2gf55dg4c5dgbf12g23452f8b87d2;1"
data "Icon" "Passive_Magus_ExtendedSpellStrike"
data "PriorityOrder" "1"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnCast"
data "Conditions" "HasUseCosts('ActionPoint') and IsSpell() and not IsCantrip() and not HasStatus('EXTENDED_SPELLSTRIKE_SPELLUNLOCK', context.Source) and (HasStatus('SPELL_STRIKING',context.Source) or HasStatus('SPELL_STRIKING_REACH',context.Source) or HasStatus('SPELL_STRIKING_RANGED',context.Source))"
data "StatsFunctors" "ApplyStatus(EXTENDED_SPELLSTRIKE_SPELLUNLOCK,100,10)"

new entry "Extended_Spell_Strike_Technical"
type "PassiveData"
data "DisplayName" "15df068671cef711166044b0836da59fbda02;1"
data "Description" "2d43cc9dcbe03f0eb641f78433f772010ae84;1"
data "ExtraDescription" "ha90cbcf2gf55dg4c5dgbf12g23452f8b87d2;1"
data "Icon" "Passive_Magus_ExtendedSpellStrike"
data "PriorityOrder" "1"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "Conditions" "HasUseCosts('ActionPoint') and IsSpell() and HasStatus('EXTENDED_SPELLSTRIKE_SPELLUNLOCK', context.Source)"
data "StatsFunctors" "RemoveStatus(EXTENDED_SPELLSTRIKE_SPELLUNLOCK)"

new entry "Recover_ConflusFocus"
type "PassiveData"
data "DisplayName" "h66733c15g9a0bg425dgae98ga396bfe0282e;1"
data "Description" "h8c3b14ceg67f2g4b78ga687g6396f4e15597;1"
data "Boosts" "UnlockSpell(Shout_Refocus)"

// Broad Study //

new entry "Broad_Study_SneakAttack1"
type "PassiveData"
data "DisplayName" "924eac1179098935c26d60376e97af8e63755;1"
data "Description" "f912e583af2752d013e2c0e660698565588da;1"
data "Boosts" "UnlockSpell(Target_SneakAttack);UnlockSpell(Projectile_SneakAttack);ActionResource(SneakAttack,1,0)"
data "Properties" "Highlighted"

new entry "Broad_Study_SneakAttack2"
type "PassiveData"
data "DisplayName" "924eac1179098935c26d60376e97af8e63755;1"
data "Description" "f912e583af2752d013e2c0e660698565588da;1"
data "Boosts" "UnlockSpell(Target_SneakAttack);UnlockSpell(Projectile_SneakAttack);ActionResource(SneakAttack,1,0)"
data "Properties" "Highlighted"

new entry "Broad_Study_SneakAttack3"
type "PassiveData"
data "DisplayName" "924eac1179098935c26d60376e97af8e63755;1"
data "Description" "f912e583af2752d013e2c0e660698565588da;1"
data "Boosts" "UnlockSpell(Target_SneakAttack);UnlockSpell(Projectile_SneakAttack);ActionResource(SneakAttack,1,0)"
data "Properties" "Highlighted"

new entry "Broad_Study_SneakAttack4"
type "PassiveData"
data "DisplayName" "924eac1179098935c26d60376e97af8e63755;1"
data "Description" "f912e583af2752d013e2c0e660698565588da;1"
data "Boosts" "UnlockSpell(Target_SneakAttack);UnlockSpell(Projectile_SneakAttack);ActionResource(SneakAttack,1,0)"
data "Properties" "Highlighted"

new entry "Broad_Study_MenacingAttack"
type "PassiveData"
data "DisplayName" "a76bb92616864bbc5c912ab76292152c218c3;1"
data "Description" "bb27e20ef8634745346cc3ec2a7a6ecce0c69;1"
data "Boosts" "UnlockSpell(Target_MenacingAttack);UnlockSpell(Projectile_MenacingAttack);ActionResource(SuperiorityDie,1,0,d6)"
data "Properties" "Highlighted"

new entry "Broad_Study_PushingAttack"
type "PassiveData"
data "DisplayName" "55560534a94b90553b6590ede75e83c5021a3;1"
data "Description" "a721426d30b8f8f39aff72c66a3e0773e98e6;1"
data "Boosts" "UnlockSpell(Target_PushingAttack);UnlockSpell(Projectile_PushingAttack);ActionResource(SuperiorityDie,1,0,d6)"
data "Properties" "Highlighted"

new entry "Broad_Study_Rally"
type "PassiveData"
data "DisplayName" "48b2d6260242381fc52fdff06ce067c5b4e96;1"
data "Description" "3b2f489cc8ac03aef15ef45585820513677d9;1"
data "Boosts" "UnlockSpell(Target_Rally);ActionResource(SuperiorityDie,1,0,d6)"
data "Properties" "Highlighted"

new entry "Broad_Study_Riposte"
type "PassiveData"
data "DisplayName" "f74fa94b48170811d1d71d723cf3ceaa2fed4;1"
data "Description" "02ad15a49b4f671a01ce20e339d58285d4a5d;1"
data "Boosts" "UnlockInterrupt(Interrupt_Riposte);ActionResource(SuperiorityDie,1,0,d6)"
data "Properties" "Highlighted"

new entry "Broad_Study_TripAttack"
type "PassiveData"
data "DisplayName" "87c4da96669234c433361829f7d795e51b261;1"
data "Description" "f3ab01423bfe4139cd5de802656fd111367d2;1"
data "Boosts" "UnlockSpell(Target_TripAttack);UnlockSpell(Projectile_TripAttack);ActionResource(SuperiorityDie,1,0,d6)"
data "Properties" "Highlighted"

new entry "Broad_Study_DisarmingAttack"
type "PassiveData"
data "DisplayName" "593dc01665aa14a756d7ff04cb029d34c21c3;1"
data "Description" "7a60766cde3d9dd99de7d8d2e058cd3560239;1"
data "Boosts" "UnlockSpell(Target_DisarmingAttack);UnlockSpell(Projectile_DisarmingAttack);ActionResource(SuperiorityDie,1,0,d6)"
data "Properties" "Highlighted"

new entry "Broad_Study_Spell_Slots1"
type "PassiveData"
data "DisplayName" "he3537064g56ddg43cdgb902ga5ccaeb59502;1"
data "Description" "h2fb992f9g424ag4d3bg9b6dg5e7cfd24a42a;1"
data "Boosts" "ActionResource(SpellSlot,1,1)"
data "Properties" "Highlighted"

new entry "Broad_Study_Spell_Slots2"
type "PassiveData"
data "DisplayName" "he3537064g56ddg43cdgb902ga5ccaeb59502;1"
data "Description" "h2fb992f9g424ag4d3bg9b6dg5e7cfd24a42a;1"
data "Boosts" "ActionResource(SpellSlot,1,1)"
data "Properties" "Highlighted"

new entry "Broad_Study_Spell_Slots3"
type "PassiveData"
data "DisplayName" "hc00116c8gc34eg47e8gb202gc5f256953b01;1"
data "Description" "hfa5263b1g6d0cg4174g9c94g27c1ef59bcf7;1"
data "Boosts" "ActionResource(SpellSlot,1,2)"
data "Properties" "Highlighted"

new entry "Broad_Study_Spell_Slots4"
type "PassiveData"
data "DisplayName" "hc00116c8gc34eg47e8gb202gc5f256953b01;1"
data "Description" "hfa5263b1g6d0cg4174g9c94g27c1ef59bcf7;1"
data "Boosts" "ActionResource(SpellSlot,1,2)"
data "Properties" "Highlighted"

// True Magus //

new entry "TM_Strength"
type "PassiveData"
data "DisplayName" "1b6f4313d460d9284639554295e22d3d7afe8;1"
data "Description" "56a7688822c4825c55f11103ecf05fe6800f4;1"
data "Boosts" "ProficiencyBonus(SavingThrow,Strength)"
data "Properties" "Highlighted"

new entry "TM_Dexterity"
type "PassiveData"
data "DisplayName" "2ae009551e4b88ae4740605b521c7bead3349;1"
data "Description" "45f03b466c0d9eea9048d2ff70752b26865c2;1"
data "Boosts" "ProficiencyBonus(SavingThrow,Dexterity)"
data "Properties" "Highlighted"

new entry "TM_Wisdom"
type "PassiveData"
data "DisplayName" "04f7e0026d3d97d870e3e7a18825ab1b08e08;1"
data "Description" "b5ee0f8a089c9af839e465b9619911f3717a5;1"
data "Boosts" "ProficiencyBonus(SavingThrow,Wisdom)"
data "Properties" "Highlighted"

new entry "TM_Charisma"
type "PassiveData"
data "DisplayName" "7a1905a79a8e82d09045ef7131184d1e78aa1;1"
data "Description" "79fd5383375f816448419151d0f52315e1da4;1"
data "Boosts" "ProficiencyBonus(SavingThrow,Charisma)"
data "Properties" "Highlighted"

new entry "TM_UnerringSpellStrike"
type "PassiveData"
data "DisplayName" "f0f9e5304f533de765672c35cb3d5c2378a5e;1"
data "Description" "23fb561d9627e68ece884e48b7052403d9407;1"
data "Boosts" "UnlockInterrupt(Interrupt_TM_UnerringSpellStrike)"
data "Icon" "Passive_Magus_UnerringSpellStrike"
data "Properties" "Highlighted"

// Subclass Feature //

new entry "Melee_MediumArmor_Prof"
type "PassiveData"
data "DisplayName" "73bcc24acf93b11045780a05dc1d1aa12ccbb;1"
data "Description" "87e7794318749a922d13a8254ae9820b13fe9;1"
data "Boosts" "Proficiency(MediumArmor)"

new entry "SparklingTarge_Shield_Prof"
type "PassiveData"
data "DisplayName" "ea76e89b64209700aa95bc04301458f4bddd3;1"
data "Description" "99bea78067100c16887f2f1682b35a311b999;1"
data "Boosts" "Proficiency(Shields)"

new entry "SparklingTarge_Arcane_Cascade"
type "PassiveData"
data "DisplayName" "262cf1a588aae0cf83dfa4b39c73ccf781bea;1"
data "Description" "f0ecd8764d129bce48fad612d7da835cccf48;1"
data "DescriptionParams" "DealDamage(ClassLevel(Magus)/2,Force)"
data "Icon" "Passive_Magus_ArcaneCascade_SparklingTarge"
data "Properties" "Highlighted"

new entry "InexorableIron_Arcane_Cascade"
type "PassiveData"
data "DisplayName" "262cf1a588aae0cf83dfa4b39c73ccf781bea;1"
data "Description" "110c68843e3257b86b5c845bd910f8ffd96f8;1"
data "Icon" "Passive_Magus_ArcaneCascade_InexorableIron"
data "Properties" "Highlighted"

new entry "LaughingShadow_Arcane_Cascade"
type "PassiveData"
data "DisplayName" "262cf1a588aae0cf83dfa4b39c73ccf781bea;1"
data "Description" "27cd82542d92bb63eb3b1d21150c4d2c4f8d8;1"
data "Icon" "Passive_Magus_ArcaneCascade_LaughingShadow"
data "Properties" "Highlighted"

new entry "TwistingTree_Arcane_Cascade"
type "PassiveData"
data "DisplayName" "262cf1a588aae0cf83dfa4b39c73ccf781bea;1"
data "Description" "f73f05cde875860f6311dc133cee4b53b7e0a;1"
data "Icon" "Passive_Magus_ArcaneCascade_TwistingTree"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpellVariant(SpellId('Zone_SpinningStaff'),ModifyAreaRadius(Override,4),ModifyTooltipDescription())"

new entry "LaughingShadow_ArcaneCascade_Force_Damage"
type "PassiveData"
data "DisplayName" ""
data "Description" ""
data "Icon" ""
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "not HasStatus('LAUGHINGSHADOW_ARCANE_CASCADE_DAMAGEBLOCK',context.Source) and IsHit() and (HasStringInSpellRoll('WeaponAttack') or HasStringInSpellRoll('UnarmedAttack'))
data "StatsFunctors" "DealDamage(LevelMapValue(Paragon_ArcaneCascade)+IntelligenceModifier,Force,Magical);ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_DAMAGEBLOCK,100,1)"

new entry "LaughingShadow_ArcaneCascade_Weapon_Damage"
type "PassiveData"
data "DisplayName" ""
data "Description" ""
data "Icon" ""
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "not HasStatus('LAUGHINGSHADOW_ARCANE_CASCADE_DAMAGEBLOCK',context.Source) and IsHit() and (HasStringInSpellRoll('WeaponAttack') or HasStringInSpellRoll('UnarmedAttack'))
data "StatsFunctors" "DealDamage(LevelMapValue(Paragon_ArcaneCascade)+IntelligenceModifier,MainWeaponDamageType,Magical);ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_DAMAGEBLOCK,100,1)"

new entry "LaughingShadow_ArcaneCascade_Psychic_Damage"
type "PassiveData"
data "DisplayName" ""
data "Description" ""
data "Icon" ""
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "not HasStatus('LAUGHINGSHADOW_ARCANE_CASCADE_DAMAGEBLOCK',context.Source) and IsHit() and (HasStringInSpellRoll('WeaponAttack') or HasStringInSpellRoll('UnarmedAttack'))
data "StatsFunctors" "DealDamage(LevelMapValue(Paragon_ArcaneCascade)+IntelligenceModifier,Psychic,Magical);ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_DAMAGEBLOCK,100,1)"

new entry "LaughingShadow_ArcaneCascade_Necrotic_Damage"
type "PassiveData"
data "DisplayName" ""
data "Description" ""
data "Icon" ""
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "not HasStatus('LAUGHINGSHADOW_ARCANE_CASCADE_DAMAGEBLOCK',context.Source) and IsHit() and (HasStringInSpellRoll('WeaponAttack') or HasStringInSpellRoll('UnarmedAttack'))
data "StatsFunctors" "DealDamage(LevelMapValue(Paragon_ArcaneCascade)+IntelligenceModifier,Necrotic,Magical);ApplyStatus(SELF,LAUGHINGSHADOW_ARCANE_CASCADE_DAMAGEBLOCK,100,1)"

// Magus Arcanas Level 1//

new entry "Arcana_Familiar"
type "PassiveData"
data "DisplayName" "96ce48e8de6c4330847845c220afb98c555b8;1"
data "Description" "624eed311287ddbaec4b7de5a02c3c6a79233;1"
data "Boosts" "UnlockSpell(Target_FindFamiliar,AlwaysPrepared,Singular)"
data "Icon" "Spell_Conjuration_FindFamiliar"
data "Properties" "Highlighted"

new entry "Arcana_Raise_A_Tome"
type "PassiveData"
data "DisplayName" "126c7b6fd97aa8c6e40297ce632e4407b5d5b;1"
data "Description" "22baa721bee3becc0f4193692a3c58a282083;1"
data "Boosts" "UnlockSpell(Shout_SummonBookShield)"
data "Icon" "Passive_Magus_RaiseATome"
data "Properties" "Highlighted"

new entry "Arcana_Magus_Analysis"
type "PassiveData"
data "DisplayName" "d6f09efe67bd264ad71f12c1b120e8f832d0f;1"
data "Description" "1920eb25e4a5a060cbe1458e7cf0a5245452d;1"
data "Boosts" "UnlockSpell(Target_MagusAnalysis);RollBonus(SkillCheck,IntelligenceModifier,Insight);RollBonus(SkillCheck,IntelligenceModifier,Perception)"
data "Icon" "Spell_Divination_TrueStrike"
data "Properties" "Highlighted"

new entry "Arcana_Magus_Smite"
type "PassiveData"
data "DisplayName" "d6f09efe67bd264ad71f12c1b120e8f832d0f;1"
data "Description" "1920eb25e4a5a060cbe1458e7cf0a5245452d;1"
data "Boosts" "UnlockInterrupt(Interrupt_Smite_Magus);UnlockInterrupt(Interrupt_Smite_Magus_2);UnlockInterrupt(Interrupt_Smite_Magus_3)"
data "Icon" "Action_Paladin_DivineSmite"
data "Properties" "Highlighted"

// Magus Arcanas Level 2//

new entry "Arcana_ExpansiveSpellStrike"
type "PassiveData"
data "DisplayName" "dbadf5af22e7cc50b7d28680cbeb9f3c4a6db;1"
data "Description" "67d1fb62ec19467ceef2f32b8783670abf49a;1"
data "Icon" "Passive_Magus_ExpansiveSpellStrike"
data "Boosts" ""
data "Properties" "Highlighted"

new entry "Arcana_SpellParry"
type "PassiveData"
data "DisplayName" "a702ec70ea148ae69724ba4a2840c941dbc91;1"
data "Description" "f1975d0cb3127b82c83bcecd202254c327364;1"
data "Boosts" "UnlockSpell(Shout_Spell_Parry)"
data "Icon" "Spell_Shield"
data "Properties" "Highlighted"

// Magus Arcana Level 3 //

new entry "Arcana_ArcaneAccuracy"
type "PassiveData"
data "DisplayName" "6c2ae8d8ffb34fe6aca74c86f0d121d465c06;1"
data "Description" "36f68b48b9b5854bcadc5f391a6bcbf4203ef;1"
data "Boosts" "UnlockSpell(Shout_Arcane_Accuracy)"
data "Icon" "Passive_Magus_ArcaneAccuracy"
data "Properties" "Highlighted"

new entry "Arcana_SteadySpellcasting"
type "PassiveData"
data "DisplayName" "41d9fbd62c56e4312fe62bf5809deb2dcfc12;1"
data "Description" "af72212365f2a685bdb08b166ff2a17a097bd;1"
data "Icon" "Passive_Magus_SteadySpellcasting"
data "Boosts" "RollBonus(SavingThrow,IntelligenceModifier,Constitution)"
data "Properties" "Highlighted"

new entry "Arcana_DevastatingSpellStrike"
type "PassiveData"
data "DisplayName" "h4395021eg96f7g4fc8g863agc942cbf8143a;1"
data "Description" "h036c9d78g4a2cg413cgba89g2e30e47d6e91;1"
data "Icon" "Passive_Magus_DevastatingSpellStrike"
data "Properties" "Highlighted"

new entry "Arcana_DistractingSpellStrike"
type "PassiveData"
data "DisplayName" "h39c24081g48ebg4d0ag9b1bg744cbb47ad44;1"
data "Description" "hfcaffcc1gd0eeg458bgb75fg9d7da077fdf4;1"
data "Boosts" "ProficiencyBonus(Skill,Deception);RollBonus(SkillCheck,IntelligenceModifier-CharismaModifier,Deception)"
data "Icon" "Passive_Magus_DistractingSpellStrike"
data "Properties" "Highlighted"

new entry "Arcana_StarlitEyes"
type "PassiveData"
data "DisplayName" "hac5509f3gffd5g41f4ga545g4277279b4aa7;1"
data "Description" "h1281f924g4901g4531gaae8geaab00e9bc8c;1"
data "Boosts" "Tag(BLINDSIGHT);StatusImmunity(SG_Blinded)"
data "Icon" "Passive_Magus_StarlitEyes"
data "Properties" "Highlighted"

new entry "Arcana_EmergencyTarge"
type "PassiveData"
data "DisplayName" "h12f01481g97bfg4c34gafd0ga214f4d97369;1"
data "Description" "heba1cc23g6ab4g4592gab27ga40e539fd46a;1"
data "Boosts" "UnlockSpell(Shout_Emergency_Targe)"
data "Icon" "Passive_Magus_EmergencyTarge"
data "Properties" "Highlighted"

new entry "Arcana_BodyOfMist"
type "PassiveData"
data "DisplayName" "409fbc5f60e68e625af8029786c8f1eb3a3de;1"
data "Description" "d1757a8e29b8a8f138a891400a40622c9368f;1"
data "Boosts" "UnlockSpell(Target_MistyStep_BodyOfMist)"
data "Icon" "Passive_Magus_BodyOfMist"
data "Properties" "Highlighted"

new entry "Arcana_StudentOfTheStaff"
type "PassiveData"
data "DisplayName" "2357bf4a1c93b56a8c30cebaa2f102b3b5ad8;1"
data "Description" "71084a59a2d5222e97fefd16dc43429cc1cac;1"
data "Icon" "Passive_Magus_StudentOfTheStaff"
data "Properties" "Highlighted;IsToggled;Temporary"
data "ToggleOnFunctors" "ApplyStatus(Paragon_STUDENT_OF_THE_STAFF_PUSH,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(STUDENT_OF_THE_STAFF_PUSH)"

new entry "Arcana_StudentOfTheStaff_Push"
type "PassiveData"
data "DisplayName" "2357bf4a1c93b56a8c30cebaa2f102b3b5ad8;1"
data "Description" "71084a59a2d5222e97fefd16dc43429cc1cac;1"
data "Conditions" "(SpellId('Target_BoomingBlade') or SpellId('Target_GreenFlameBlade') or not IsSpell()) and IsWeaponAttack() and IsWeaponOfProficiencyGroup('Quarterstaffs', GetActiveWeapon()) and IsHit() and not SpellId('Target_StudentOfTheStaff_Shove')"
data "StatsFunctorContext" "OnAttack"
data "StatsFunctors" "Force(6, OriginToTarget)"
data "Icon" "Passive_Magus_StudentOfTheStaff"
data "Properties" "IsHidden"

// Magus Arcana Level 5 //

new entry "Arcana_CascadeCountermeasure"
type "PassiveData"
data "DisplayName" "0c1c17d6d9484db2cb4616635d5ad03488c99;1"
data "Description" "cf07054b12c8b2707759f1d36fd9c0227a020;1"
data "Boosts" "UnlockInterrupt(Interrupt_CascadeCountermeasure)"
data "Icon" "Passive_Magus_CascadeCounterMeasure"
data "Properties" "Highlighted"

new entry "Arcana_KnowledgeIsPower"
type "PassiveData"
data "DisplayName" "d6096f9087033cead7fd9eee51d04f96c3d87;1"
data "Description" "e73bf13bffb116f7a79e6c2566773262eec91;1"
data "Icon" "Passive_Magus_KnowledgeIsPower"
data "StatsFunctorContext" "OnEquip;OnLongRest"
data "Conditions" ""
data "StatsFunctors" "ApplyStatus(SELF,Paragon_KNOWLEDGE_IS_POWER,100,-1)"
data "Properties" "Highlighted"

new entry "Arcana_ThunderingRetaliation"
type "PassiveData"
data "DisplayName" "f003da19face47119640768e698341465b24a;1"
data "Description" "663eea0ef1fd3ec2e7b96bb625571e3d5c487;1"
data "Boosts" "UnlockSpell(Zone_ThunderingRetaliation)"
data "Icon" "Passive_Magus_ThunderingRetaliation"
data "Properties" "Highlighted"

new entry "Arcana_Shield_A_Tome"
type "PassiveData"
data "DisplayName" "16127355843626be7000bc57b069f854cd2f4;1"
data "Description" "a56501a6bae7e3e3da5f753a08c9060fbea76;1"
data "Boosts" "If(HasPassive('Arcana_Raise_A_Tome') and HasShieldEquipped()):AC(1);If(HasPassive('Arcana_Raise_A_Tome') and HasShieldEquipped()):RollBonus(SavingThrow,1)"
data "Icon" "Passive_Magus_ShieldATome"
data "Properties" "Highlighted"

new entry "Arcana_EnduringBlade"
type "PassiveData"
data "DisplayName" "54fdf2410d7c93f53d62a20a0f238b7b97275;1"
data "Description" "a682a9123bded4a9daa3018b77526d19f1cfd;1"
data "Icon" "Passive_Magus_ArcaneEnhancement"
data "Boosts" "UnlockSpell(Shout_ArcaneEnhancement)"
data "Properties" "Highlighted"

// Magus Arcana Level 7 //

new entry "Arcana_ResonantBlades"
type "PassiveData"
data "DisplayName" "hc1c0f9dfg95a0g4ab4gaa90ga7a48119c8bd;1"
data "Description" "hf7263d8dgd133g42f6ga872g5e85394a4386;1"
data "Properties" "Highlighted"
data "Conditions" "FightingStyle_TwoWeapons() and HasUseCosts('ActionPoint') and IsSpell() and (IsAttackType(AttackType.MeleeWeaponAttack) or IsAttackType(AttackType.RangedWeaponAttack)) and IsMiss() and HasSpellFlag(SpellFlags.Spell) and not SpellId('Target_BoomingBlade') and not SpellId('Target_GreenFlameBlade')"
data "StatsFunctors" "IF(HasPassive('Arcana_ExpansiveSpellStrike',context.Source)):ApplyStatus(SELF,EXTRA_SPELLSTRIKE_EXPANSIVE,100,1);IF(not HasPassive('Arcana_ExpansiveSpellStrike',context.Source)):ApplyStatus(SELF,EXTRA_SPELLSTRIKE,100,1)"
data "StatsFunctorContext" "OnCast"

new entry "Arcana_ArcaneStrike"
type "PassiveData"
data "DisplayName" "f7f0d47b3ca49a24b01180efa8d265f17553b;1"
data "Description" "f6ea83d7c117f70410af6ddcd1692d53da325;1"
data "Boosts" "UnlockSpell(Arcane_Strike)"
data "Icon" "Passive_Magus_ArcaneStrike"
data "Properties" "Highlighted"

new entry "Arcana_ArcaneCloak"
type "PassiveData"
data "DisplayName" "7920db2696feed7222879a4f63dfcaad039fb;1"
data "Description" "99124c1d0879d911602c9b75056822b6dd2a5;1"
data "Boosts" "RollBonus(SkillCheck,IntelligenceModifier,Stealth);RollBonus(SkillCheck,IntelligenceModifier,Deception);RollBonus(SkillCheck,IntelligenceModifier,Persuasion);UnlockSpell(Shout_Hide_ArcaneCloak)"
data "Properties" "Highlighted"
data "Icon" "Passive_Magus_ArcaneCloak"

new entry "Arcana_Spell_Swipe"
type "PassiveData"
data "DisplayName" "440231116e97b2c3fef3f02dcf33871fa37cb;1"
data "Description" "557322d523cb45f5ba904a683a9e300315eb7;1"
data "Properties" "Highlighted"
data "Icon" "Passive_Magus_SpellSwipe"

new entry "Arcana_CaptureMagic"
type "PassiveData"
data "DisplayName" "e227ba10708b53321be2fc7663715e2c9dc4c;1"
data "Description" "8ab5aed4b628becbb8edb00bf1d6436723e6c;1"
data "Icon" "Passive_Magus_CaptureMagic"
data "Boosts" "UnlockSpell(Shout_ArcaneCascade_CaptureMagic_Force);UnlockSpell(Shout_ArcaneCascade_CaptureMagic_Weapon);UnlockSpell(Shout_ArcaneCascade_CaptureMagic_Psychic);UnlockSpell(Shout_ArcaneCascade_CaptureMagic_Necrotic)"
data "Properties" "Highlighted"

// Magus Arcana Level 9 //

new entry "Arcana_CascadingRay"
type "PassiveData"
data "DisplayName" "hd22a3c29g2f43g44a6ga082gc74b2e3fd4c9;1"
data "Description" "h60ece2cdg2f2dg4107gb449g0cf2a1b4ecca;1"
data "Icon" "Passive_Magus_CascadingRay"
data "Properties" "Highlighted"

new entry "Arcana_DimensionalDisappearance"
type "PassiveData"
data "DisplayName" "744ce386c3ea09363adc57634d3832f4fb219;1"
data "Description" "a6d0c4629c0a7b9ee387b02ccc5020b767c34;1"
data "Icon" "Passive_Magus_DimensionalDisappearance"
data "Boosts" "UnlockInterrupt(Interrupt_DimensionalDisappearance)"
data "Properties" "Highlighted"

new entry "Arcana_DazzlingBlock"
type "PassiveData"
data "DisplayName" "95434a15cb721dc2143d3ca120885e8321809;1"
data "Description" "c5f499e0d3921d90ee851cad17cd7575d74a8;1"
data "Boosts" "UnlockSpell(Zone_DazzlingBlock)"
data "Icon" "Passive_Magus_DazzlingBlock"
data "Properties" "Highlighted"

new entry "Arcana_MeteoricShot"
type "PassiveData"
data "DisplayName" "3c32ac96ca34bdf5ac6a4751d91e15b44d0a4;1"
data "Description" "f8da3e8fa7e0b2336c05613a71d3fa4500c94;1"
data "Icon" "Passive_Magus_MeteoricSpellStrike"
data "Properties" "Highlighted"

new entry "Arcana_SustainingSteel"
type "PassiveData"
data "DisplayName" "0499215066476339a7d58095e22d1fee3b338;1"
data "Description" "9b86412e426bea7e5d67648c6ba761b4e470a;1"
data "Icon" "Passive_Magus_ArcaneCascade_InexorableIron"
data "Properties" "Highlighted"

new entry "Arcana_RunicImpression"
type "PassiveData"
data "DisplayName" "d564042aa3a35f90b14fe1fc9baf9b1f9ad57;1"
data "Description" "7d0b504853508f6508d9caaf711df20225ba3;1"
data "Boosts" "UnlockSpell(Shout_RunicImpression_BloodThirsty);UnlockSpell(Shout_RunicImpression_Speed);UnlockSpell(Shout_RunicImpression_Deathdrinking);UnlockSpell(Shout_RunicImpression_Hooked);UnlockSpell(Shout_RunicImpression_Wounding)"
data "Icon" "Passive_Magus_RunicImpression"
data "Properties" "Highlighted"

new entry "Arcana_LungingSpellStrike"
type "PassiveData"
data "DisplayName" "5516d15cc2d335b69248567229a61b6ced3c3;1"
data "Description" "0d3414a4c0fb4fdc0b0e1558bae7a0c0f30ee;1"
data "DescriptionParams" "1;Distance(1.5);Distance(9)"
data "Icon" "Passive_Magus_LungingSpellStrike"
data "EnabledConditions" "IsWeaponOfProficiencyGroup('Quarterstaffs', GetActiveWeapon())"
data "EnabledContext" "OnEquip"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;Highlighted"
data "ToggleOnFunctors" "ApplyStatus(Paragon_SPELL_STRIKING_LUNGING,100,-1);ApplyStatus(Paragon_LUNGINGSPELLSTRIKE_WEAPON_ATTACK,100,-1)"
data "ToggleOnEffect" "VFX_Spells_Cast_Sorcerer_Metamagic_Distant_HeadFX_01:Dummy_HeadFX"
data "ToggleOffFunctors" "RemoveStatus(LUNGINGSPELLSTRIKE_WEAPON_ATTACK);RemoveStatus(SPELL_STRIKING_LUNGING);"

// Magus Arcana Level 11 //

new entry "Arcana_ElementalBurst"
type "PassiveData"
data "DisplayName" "415d46adb60981eb033a9133b6c2b22ba66f3;1"
data "Description" "2aa35630f15a704e39f284e6c3a4caed8b4f3;1"
data "Icon" "Passive_Magus_ElementalBlade"
data "Properties" "Highlighted"

new entry "Arcana_EB_Fire_AOE"
type "PassiveData"
data "Properties" "IsHidden"
data "DisplayName" "415d46adb60981eb033a9133b6c2b22ba66f3;1"
data "Description" "2aa35630f15a704e39f284e6c3a4caed8b4f3;1"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "IsWeaponAttack() and not IsSpell() and ((HasPassive('Arcana_ElenmentalEruption',context.Source)) or (not HasPassive('Arcana_ElenmentalEruption',context.Source) and not IsMiss() and IsCritical()))"
data "StatsFunctors" "IF(ClassLevelHigherOrEqualThan(1,'Magus') and not ClassLevelHigherOrEqualThan(14,'Magus')):CreateExplosion(Target_EB_FireBurst_Explosion_D8);IF(ClassLevelHigherOrEqualThan(14,'Magus') and not ClassLevelHigherOrEqualThan(17,'Magus')):CreateExplosion(Target_EB_FireBurst_Explosion_D10);IF(ClassLevelHigherOrEqualThan(17,'Magus') and not HasPassive('Arcana_ElenmentalEruption')):CreateExplosion(Target_EB_FireBurst_Explosion_D12);IF(ClassLevelHigherOrEqualThan(17,'Magus') and HasPassive('Arcana_ElenmentalEruption')):CreateExplosion(Target_EB_FireBurst_Explosion_10ft)"

new entry "Arcana_EB_Cold_AOE"
type "PassiveData"
using "Arcana_EB_Fire_AOE"
data "StatsFunctors" "IF(ClassLevelHigherOrEqualThan(1,'Magus') and not ClassLevelHigherOrEqualThan(14,'Magus')):CreateExplosion(Target_EB_ColdBurst_Explosion_D8);IF(ClassLevelHigherOrEqualThan(14,'Magus') and not ClassLevelHigherOrEqualThan(17,'Magus')):CreateExplosion(Target_EB_ColdBurst_Explosion_D10);IF(ClassLevelHigherOrEqualThan(17,'Magus') and not HasPassive('Arcana_ElenmentalEruption')):CreateExplosion(Target_EB_ColdBurst_Explosion_D12);IF(ClassLevelHigherOrEqualThan(17,'Magus') and HasPassive('Arcana_ElenmentalEruption')):CreateExplosion(Target_EB_ColdBurst_Explosion_10ft)"

new entry "Arcana_EB_Acid_AOE"
type "PassiveData"
using "Arcana_EB_Fire_AOE"
data "StatsFunctors" "IF(ClassLevelHigherOrEqualThan(1,'Magus') and not ClassLevelHigherOrEqualThan(14,'Magus')):CreateExplosion(Target_EB_AcidBurst_Explosion_D8);IF(ClassLevelHigherOrEqualThan(14,'Magus') and not ClassLevelHigherOrEqualThan(17,'Magus')):CreateExplosion(Target_EB_AcidBurst_Explosion_D10);IF(ClassLevelHigherOrEqualThan(17,'Magus') and not HasPassive('Arcana_ElenmentalEruption')):CreateExplosion(Target_EB_AcidBurst_Explosion_D12);IF(ClassLevelHigherOrEqualThan(17,'Magus') and HasPassive('Arcana_ElenmentalEruption')):CreateExplosion(Target_EB_AcidBurst_Explosion_10ft)"

new entry "Arcana_EB_Lightning_AOE"
type "PassiveData"
using "Arcana_EB_Fire_AOE"
data "StatsFunctors" "IF(ClassLevelHigherOrEqualThan(1,'Magus') and not ClassLevelHigherOrEqualThan(14,'Magus')):CreateExplosion(Target_EB_LightningBurst_Explosion_D8);IF(ClassLevelHigherOrEqualThan(14,'Magus') and not ClassLevelHigherOrEqualThan(17,'Magus')):CreateExplosion(Target_EB_LightningBurst_Explosion_D10);IF(ClassLevelHigherOrEqualThan(17,'Magus') and not HasPassive('Arcana_ElenmentalEruption')):CreateExplosion(Target_EB_LightningBurst_Explosion_D12);IF(ClassLevelHigherOrEqualThan(17,'Magus') and HasPassive('Arcana_ElenmentalEruption')):CreateExplosion(Target_EB_LightningBurst_Explosion_10ft)"

new entry "Arcana_EB_Thunder_AOE"
type "PassiveData"
using "Arcana_EB_Fire_AOE"
data "StatsFunctors" "IF(ClassLevelHigherOrEqualThan(1,'Magus') and not ClassLevelHigherOrEqualThan(14,'Magus')):CreateExplosion(Target_EB_ThunderBurst_Explosion_D8);IF(ClassLevelHigherOrEqualThan(14,'Magus') and not ClassLevelHigherOrEqualThan(17,'Magus')):CreateExplosion(Target_EB_ThunderBurst_Explosion_D10);IF(ClassLevelHigherOrEqualThan(17,'Magus') and not HasPassive('Arcana_ElenmentalEruption')):CreateExplosion(Target_EB_ThunderBurst_Explosion_D12);IF(ClassLevelHigherOrEqualThan(17,'Magus') and HasPassive('Arcana_ElenmentalEruption')):CreateExplosion(Target_EB_ThunderBurst_Explosion_10ft)"

new entry "Arcana_ChargeOfTheMagi"
type "PassiveData"
data "DisplayName" "79ae8724ca27a9020293b28bc03d96d0592c9;1"
data "Description" "d38c6c0ef4e182e8f90d20832821b1e364b7e;1"
data "Boosts" "UnlockSpell(Rush_ChargeOfTheMagi)"
data "Icon" "Passive_Magus_ChargeOfTheMagi"
data "Properties" "Highlighted"

new entry "Arcana_RapidRecharge"
type "PassiveData"
data "DisplayName" "a7e9761edf239e9a0f4b405fcf7a000dde371;1"
data "Description" "6505ca8de452eee1426481c2ca93eadd56a4f;1"
data "Boosts" "UnlockSpell(Shout_RapidRecharge)"
data "Icon" "Passive_Magus_RapidRecharge"
data "Properties" "Highlighted"

new entry "Arcana_OverwhelmingSpellStrike"
type "PassiveData"
data "DisplayName" "h1a6042e2gf0aeg4731gaa68gde9e6c223145;1"
data "Description" "hbd34bebfgef3bg4da6g9346g4af88f9a9d4c;1"
data "Boosts" "UnlockSpell(Shout_OverwhelmingSpellStrike)"
data "Icon" "Passive_Magus_RapidRecharge"
data "Properties" "Highlighted"

// Magus Arcana Level 13 //

new entry "Arcana_ArcaneShroud"
type "PassiveData"
data "DisplayName" "92ec002ea7f0ce45dd922ad8ed1f8f1d95414;1"
data "Description" "804e9e73e6c7e7b67504fff4222b431db8204;1"
data "Icon" "Passive_Magus_ArcaneShroud"
data "Properties" "Highlighted"

new entry "Arcana_HastedAssault"
type "PassiveData"
data "DisplayName" "e78475f4992218367561078ca4f032362d407;1"
data "Description" "708c0ed4f4f5fcfe3c14007ae370b7c95d43d;1"
data "Boosts" "If(not HasPassive('Arcana_SurpemeSpellStrike')):UnlockSpell(Target_HasteActions_HA)"
data "Icon" "Passive_Magus_HastedAssault"
data "Properties" "Highlighted"

new entry "Arcana_PreternaturalParry"
type "PassiveData"
data "DisplayName" "2c14193db85c17fb8421e9c39313971d161e2;1"
data "Description" "3a27b2393e4742ac26d41afccd15b3439369e;1"
data "Boosts" "UnlockSpell(Target_MainHandAttack_PreternaturalParry)"
data "Icon" "Passive_Magus_PreternaturalParry"

new entry "Arcana_ResoundingCascade"
type "PassiveData"
data "DisplayName" "5ed7f65b5ae7ac925862fa79fd534480abd1d;1"
data "Description" "a87671a635e57e51beac6d7a96bb367f3d9a9;1"
data "Icon" "Passive_Magus_ResoundingCascade"
data "Properties" "Highlighted"

// Magus Arcana Level 15 //

new entry "Arcana_BaneBlade"
type "PassiveData"
data "DisplayName" "936b0ca6c728e63d0440faa5ccf02fde88591;1"
data "Description" "70d9baa718038539e3264ba253141cb527e67;1"
data "DescriptionParams" "4"
data "Boosts" "UnlockSpell(Target_BaneBlade)"
data "Icon" "Passive_Magus_BaneBlade"
data "Properties" "Highlighted"

new entry "Arcana_ExpandedCascade"
type "PassiveData"
data "DisplayName" "hbd4dea81g2324g420ega1fagb52e85f2abf0;1"
data "Description" "h577d922eg603cg423cg9646gc4fb627e2727;1"
data "Icon" "Passive_Magus_ResoundingCascade"

// Magus Arcana Level 17 //

new entry "Arcana_ConfluxWellspring"
type "PassiveData"
data "DisplayName" "h671765bdgc6fdg4fe0gafe2g438113c50b4c;1"
data "Description" "h3c170410g1052g47bdgbcc2gdf2aac103095;1"
data "Icon" "Passive_Magus_ArcaneShroud"
data "Conditions" "IsSpell() and not IsCantrip()"
data "StatsFunctors" "RestoreResource(ConfluxFocus,1,0);"
data "StatsFunctorContext" "OnCast"

new entry "Arcana_VersatileSpellStrike"
type "PassiveData"
data "DisplayName" "h671765bdgc6fdg4fe0gafe2g438113c50b4c;1"
data "Description" "h3c170410g1052g47bdgbcc2gdf2aac103095;1"
data "Icon" "Passive_Magus_ArcaneShroud"
data "Conditions" "IsSpell() and not IsCantrip()"
data "StatsFunctors" "RestoreResource(ConfluxFocus,1,0);"
data "StatsFunctorContext" "OnCast"

new entry "Arcana_ElenmentalEruption"
type "PassiveData"
data "DisplayName" "h56e8c0b1g6806g48eag9e4bg4d8a0dfeba2a;1"
data "Description" "hb0eba13eg3476g4094g9596g95988f394a6f;1"
data "Icon" "Passive_Magus_ElementalBlade"
data "Properties" "Highlighted"

// Magus Arcana Level 19 //

new entry "Arcana_SurpemeSpellStrike"
type "PassiveData"
data "DisplayName" "h30b817c8g3661g4c02g8bd6ge3d52c65e389;1"
data "Description" "h3ffa3255g1248g4feagb0d4g66f300cfc321;1"
data "Boosts" "If(HasPassive('Arcana_HastedAssault')):UnlockSpell(Target_HasteActions_Free)"
data "Icon" "Passive_Magus_SurpemeSpellStrike"
data "Properties" "Highlighted"

new entry "Arcana_WhirlwindSpell"
type "PassiveData"
data "DisplayName" "e77831daf0f376e2522e5fc502c7bf8acd829;1"
data "Description" "5fbc1a5b8f2da394405a33efe75c82ddf7b24;1"
data "Icon" "Passive_Magus_WhirlwindSpell"
data "Properties" "Highlighted"

// Spell Blending //

new entry "Spell_Blending"
type "PassiveData"
data "DisplayName" "a0cba18297f53d4809b4c71acf0f506ca50ea;1"
data "Description" "6407f2ca98c06cd275a17821ab410d21b3e20;1"
data "Boosts" "UnlockSpell(Shout_SpellBlending_Combine);UnlockSpell(Shout_SpellBlending_Divide)"
data "Icon" "Passive_Magus_SpellBlending_Druid"
data "Properties" "Highlighted"

new entry "Spell_Blending_Cantrip_Druid"
type "PassiveData"
data "DisplayName" "a0cba18297f53d4809b4c71acf0f506ca50ea;1"
data "Description" "6407f2ca98c06cd275a17821ab410d21b3e20;1"
data "Boosts" "UnlockSpell(Shout_Druidcraft);UnlockSpell(Target_ThornWhip)"
data "Icon" "Passive_Magus_SpellBlending_Druid"
data "Properties" "Highlighted"

new entry "Spell_Blending_Cantrip_Cleric"
type "PassiveData"
data "DisplayName" "4a08bf6f98f844aeff7d5e7de068bbc1bbd71;1"
data "Description" "a86f5eadf667e145b81e8e45558c1073b3822;1"
data "Boosts" "UnlockSpell(Target_Guidance);UnlockSpell(Target_Resistance)"
data "Icon" "Passive_Magus_SpellBlending_Cleric"
data "Properties" "Highlighted"

new entry "Spell_Blending_Cantrip_Bard"
type "PassiveData"
data "DisplayName" "ec18310ccdd5e5d83d31e672db5c301a2ddfb;1"
data "Description" "0a3d34906388e3ec29a4cba4f1f4c689efdab;1"
data "Boosts" "UnlockSpell(Target_Friends);UnlockSpell(Target_ViciousMockery)"
data "Icon" "Passive_Magus_SpellBlending_Bard"
data "Properties" "Highlighted"

new entry "Spell_Blending_Cantrip_Warlock"
type "PassiveData"
data "DisplayName" "5d46a5727dc1486ad6894059ceacc3f14beaa;1"
data "Description" "14576f1f1ff0009c86f76792ddf89bab6d8bf;1"
data "Boosts" "UnlockSpell(Projectile_EldritchBlast);UnlockSpell(Target_TollTheDead)"
data "Icon" "Passive_Magus_SpellBlending_Warlock"
data "Properties" "Highlighted"

new entry "Spell_Blending_1stLevel_Ranger"
type "PassiveData"
data "DisplayName" "2e356f2072ffb25943629129409d3b3ecbc13;1"
data "Description" "fff081429bcb855c1a6807a953a7c14b54f2d;1"
data "Boosts" "UnlockSpell(Target_HuntersMark);UnlockSpell(Shout_ZephyrStrike)"
data "Icon" "Passive_Magus_SpellBlending_Ranger"
data "Properties" "Highlighted"

new entry "Spell_Blending_1stLevel_Druid"
type "PassiveData"
data "DisplayName" "3fdde3a53d29b9bc6c7ac6149e4c981ca84cb;1"
data "Description" "df7b0cb0d88e3ee9a5fd5583340f323a72c1d;1"
data "Boosts" "UnlockSpell(Target_Goodberry);UnlockSpell(Shout_SpeakWithAnimals)"
data "Icon" "Passive_Magus_SpellBlending_Druid"
data "Properties" "Highlighted"

new entry "Spell_Blending_1stLevel_Cleric"
type "PassiveData"
data "DisplayName" "0f88ffd17e323c5ec7e18815808f0d1430a96;1"
data "Description" "1ce6cd0c49af3c8978fe7261c9f2ec89219e4;1"
data "Boosts" "UnlockSpell(Target_Bless);UnlockSpell(Target_CureWounds)"
data "Icon" "Passive_Magus_SpellBlending_Cleric"
data "Properties" "Highlighted"

new entry "Spell_Blending_1stLevel_Paladin"
type "PassiveData"
data "DisplayName" "d66e0660fc8a598330b8db6e881f960e066d6;1"
data "Description" "1b4e0220fa6ac5decdd2906bf0d75536f6566;1"
data "Boosts" "UnlockSpell(Target_CompelledDuel);UnlockSpell(Target_ShieldOfFaith)"
data "Icon" "Passive_Magus_SpellBlending_Paladin"
data "Properties" "Highlighted"

new entry "Spell_Blending_1stLevel_Warlock"
type "PassiveData"
data "DisplayName" "2d11c2d7693ee36afb36ce1deb688f72789ef;1"
data "Description" "da35b45289c3e9f402f1a4d8de62b14127722;1"
data "Boosts" "UnlockSpell(Shout_ArmsOfHadar);UnlockSpell(Target_Hex)"
data "Icon" "Passive_Magus_SpellBlending_Warlock"
data "Properties" "Highlighted"

new entry "Spell_Blending_1stLevel_Bard"
type "PassiveData"
data "DisplayName" "a1461f595ee9d26307d8294f229e6c47e4570;1"
data "Description" "1288680e0ee26f15704c0f5faa5e718607211;1"
data "Boosts" "UnlockSpell(Target_DissonantWhispers);UnlockSpell(Target_FaerieFire)"
data "Icon" "Passive_Magus_SpellBlending_Bard"
data "Properties" "Highlighted"

// Runic Impression

new entry "RunicImpression_Bloodthirsty"
type "PassiveData"
data "DisplayName" "02a144c257acf2f7a9bb269762af9bf2ddc67;1"
data "Description" "dae5616b4fd671ab3c6dd7a4a276e29ed56b6;1"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "IsHit() and IsWeaponAttack() and Character()"
data "StatsFunctors" "RegainHitPoints(SELF,1d4)"
data "Icon" "Spell_Necromancy_VampiricTouch"
data "Properties" "Highlighted"

new entry "RunicImpression_Speed"
type "PassiveData"
data "DisplayName" "5bec3f03a7e97f79571c9fbc62e62a4e3ad50;1"
data "Description" "c7d7281a203422a1e3e2f274f9a7eaf8233bf;1"
data "Boosts" "UnlockSpell(Target_MainHandAttack_RI_Speed)"
data "Icon" "Spell_Transmutation_Longstrider"
data "Properties" "Highlighted"

new entry "RunicImpression_Deathdrinking"
type "PassiveData"
data "DisplayName" "b81985020c61dc91d5d0f13e85104c2172559;1"
data "Description" "827b36c77f1ae5dd5e6a1048f735deec1619d;1"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "IsKillingBlow()"
data "StatsFunctors" "RegainHitPoints(SELF,2d8)"
data "Icon" "Spell_Necromancy_VampiricTouch"
data "Properties" "Highlighted"

new entry "RunicImpression_Wounding"
type "PassiveData"
data "DisplayName" "865ac87dd2726cc21f61829b512f978794b7d;1"
data "Description" "9d72ba17237bf2faf1c4ba7642d98b478cfe0;1"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "IsHit() and IsWeaponAttack()"
data "StatsFunctors" "ApplyStatus(RI_BLEEDING,100,10)"
data "Icon" "Status_Bleeding"
data "Properties" "Highlighted"

new entry "RunicImpression_Hooked"
type "PassiveData"
data "DisplayName" "a7abba636d040d0753f993dac8948939fc2e0;1"
data "Description" "165af598588def2ba744024a99ef9c690c54f;1"
data "Boosts" "UnlockSpell(Target_Topple_RI_HOOKED)"
data "Icon" "Action_Topple"
data "Properties" "Highlighted"